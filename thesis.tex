%\documentclass[12pt,oneside]{fithesis2}		% pc version
\documentclass[a4paper, 12pt, twoside]{fithesis2}		% print version

% ===== LOADING PACKAGES =====
% language settings, main documnet language last
\usepackage[english]{babel}
% enabling new fonts support (nicer)
\usepackage{lmodern}
% setting input encoding
\usepackage[utf8]{inputenc}
% setting output encoding
\usepackage[T1]{fontenc}
% fithesis2 requires csquotes
\usepackage{csquotes}
% set page margins
%\usepackage[top=3.0cm, bottom=3.5cm, left=2.4cm, right=2.4cm]{geometry}	% pc version
\usepackage[top=3.0cm, bottom=3.5cm, left=2.9cm, right=1.9cm]{geometry}	% print version
% package to make bullet list nicer
\usepackage{enumitem}
% math symbols and environments
\usepackage{mathtools}
\usepackage{amsmath}
% packages for complex tables
%\usepackage{tabularx}
%\usepackage{multirow}
%\usepackage{dcolumn}
%\usepackage{array}
% package for defining new floating environments
\usepackage{float}
\usepackage[labelfont=]{caption}
%\usepackage{newfloat}

% bibliography management
\usepackage[backend=biber, 		% use biber as backend instead of BiBTeX
        %dashed=false                    % when there is an author twice, still write his/her name
	bibstyle=ieee-alphabetic, 	% bibliography style: IEEE with alphabetic citations
	citestyle=alphabetic, 		% citation style
	url=true, 			% display urls in bibliography
	hyperref=auto,			% detect hyperref and create links
	%block=ragged, 			% format bibliography into blocks, ragged on right
]{biblatex}
\addbibresource{thesis.bib}

% setting custom colors for links
\usepackage{xcolor}
\definecolor{dark-red}{rgb}{0.6,0.15,0.15}
\definecolor{dark-green}{rgb}{0.15,0.4,0.15}
\definecolor{medium-blue}{rgb}{0,0,0.5}
% generating hyperlinks in document
\usepackage{url}
\usepackage[plainpages=false, 	    % get the page numbering correctly
            pdfpagelabels, 	    % write arabic labels to all pages
            unicode,	 	    % allow unicode characters in links
            colorlinks=true, 	    % use colored links instead of boxed (pc version)
            %hidelinks, 		    % hide links (print version)
            linkcolor={dark-red},
            citecolor={dark-green},
            urlcolor={medium-blue}
			]{hyperref}

% ===== FI THESIS SETTINGS =====

\thesistitle{Automatic question generation\\and adaptive practice}
\thesissubtitle{Bachelor thesis}
\thesisstudent{Tomáš Effenberger}
\thesiswoman{false}
\thesisfaculty{fi}
\thesisyear{spring 2015}
\thesisadvisor{RNDr.\ Jan Rygl}
\thesislang{en}

% ===== LATEX DOCUMENT SETTINGS =====

% adjusting hyphenation penalties
\tolerance=10000
\hyphenpenalty=500

% renew command for shorter and nicer underscore
\renewcommand{\_}{\leavevmode \kern0.0em\vbox{\hrule width0.4em}}

% vertical space between paragrahps, no indentation
\usepackage[parfill]{parskip}  % TODO: nefunguje -> zfunkcnit
% space between paragraphs
%\setlength{\parskip}{0.6em plus0.2em minus0.2em}

% ===== COMMANDS =====

%--------------------------------------------------------------------
% define square symbol
%--------------------------------------------------------------------
\newcommand{\squarebullet}{\textcolor{black}{\raisebox{0.15em}{\rule{4pt}{4pt}}}}

%--------------------------------------------------------------------
% define new itemize environment with squares and smaller spaces
%--------------------------------------------------------------------
\newenvironment{myItemize}{
  \begin{itemize}[leftmargin=2em,rightmargin=1em,itemsep=\parskip ,parsep=0em,topsep=0em,partopsep=0em]
  \renewcommand{\labelitemi}{\squarebullet}
  \renewcommand{\labelitemii}{$\diamond$}
}{
  \end{itemize}
}

%--------------------------------------------------------------------
% exercise environment
%--------------------------------------------------------------------
\newcounter{choice}
\renewcommand\thechoice{\Alph{choice}}
\newcommand\choicelabel{\thechoice.}

\newenvironment{choices}%
  {\vspace{0.2em}\list{\choicelabel}%
     {\usecounter{choice}\def\makelabel##1{\hss\llap{##1}}%
       \settowidth{\leftmargin}{W.\hskip\labelsep\hskip 0.01em}%
       \def\choice{%
         \item
       } % choice
       \labelwidth\leftmargin\advance\labelwidth-\labelsep
       \topsep=0pt
       \partopsep=0pt
     }%
  }%
  {\vspace{-0.7em}\endlist}

%\setlength{\abovecaptionskip}{25pt plus 3pt minus 2pt}
\floatstyle{boxed}
\newfloat{exercise}{thp}{exrcs}[chapter]
\floatname{exercise}{Exercise}

\newenvironment{question}
{
  \begin{center}
  \begin{tabular}{p{0.9\textwidth}}
  \vskip 0.05em
}
{
  \\
  \end{tabular}
  \end{center}
}

% gap in the sentence (bottom line)
\newcommand{\sentenceGap}{\rule{1.5cm}{0.4pt}~}

%--------------------------------------------------------------------

% ===== CHEAT SHEET =====

% == full width image

%\begin{figure}[b!]
%\centering
%\includegraphics[width=\textwidth]{images/bla.bla}
%\caption{bla bla bla}
%\label{fig:bla-bla}
%\end{figure}


% == myItemize

%\begin{myItemize}
%\item \textbf{Bla}\\
%  bla
%\item \textbf{Bla}\\
%  bla
%\item \textbf{Bla}\\
%  bla
%\end{myItemize}


% ===== BEGIN DOCUMENT =====
\begin{document}

\FrontMatter
\ThesisTitlePage

\begin{ThesisDeclaration}
\DeclarationText
\AdvisorName
\end{ThesisDeclaration}

\begin{ThesisThanks}

  TODO (Sir, Papi, ALG, NLP)
%I'd like to thank Petr for his guidance, enthusiasm and inspiring discussions.
%I also owe much to my mom and brother for their continuous support. Thank you.

%\noindent
%Further thanks goes to all my friends who had to put up with my enthusiasm
%and numerous research details they may have never asked for $\ddot\smile$.

%\noindent
%Last but not least, I'd like to acknowledge the Laboratory of Security and Applied Cryptography and
%the National Grid Infrastructure MetaCentrum for providing access to their computing and storage facilities.
\end{ThesisThanks}

\begin{ThesisAbstract}
When studying, it is more efficient not just to read about the topic, but also to practice the knowledge, e.g. by answering some multiple choice questions. Today, there is a huge amount of information to study (consider Wikipedia) and it is not possible to create a set of question for all topics manually. However, we can generate questions automatically, using techniques of artificial intelligence and natural language processing. This thesis explores the state-of-the-art approaches to question generation and describes their advantages and disadvantages. The thesis also suggests a design of the general framework for practicing knowledge from articles. This framework is implemented and publicly accessible through a web interface.
\end{ThesisAbstract}

\begin{ThesisKeyWords}
  % TODO: profiltrovat na ty opravdu relevantni
knowledge representation, question generation, adaptive practice, learning,
artificial intelligence, natural language processing, multiple choice questions
\end{ThesisKeyWords}

\MainMatter
\tableofcontents

% ===========================  CHAPTER ===========================
\chapter{Introduction}
\label{chap:intro}

TODO: intro, goal of the thesis (dodelat podle oficialniho zadani / abstraktu)

Mere repeated reading of the text which one is traying to learn is unefficient method of learning, while answering to related questions leads to [better long-term knowledge / dlouhodobemu zapamatovani] \parencite{edu-improve}.

[neco o tom, ze vytvaret testy manualne je time-consuming, takze by bylo fajn to autmatizovat]

In spite of active and [dlouhodoby nebo tak neco] research of question generation (e.g. \parencite{questions-wolfe, questions-eval}) [mozna pridat dalsi, pripadne rozepsat - priklad early research a recent research],
there is still no publicly available web application to solve this task.
And I am sure that such application would be really useful. Typical example is to make self-studying more efficient by answering a few generated questions after reading an article to verify and consolidate the new knowledge.
[overit aktualnost a jasne urcit moment o kterem mluvim (neexistuje tady a ted)]

That is why I have implemented \textit{Smartoo, Smart Artificially Intelligent Tutor}, modular and extensible framework for question generation and adaptive practice
of knowledge from Wikipedia [taky citovat!] articles.
The Smartoo Framework is licensed under the GNU General Public License, version 2 [citovat?, licenci rozmyslet].
The source code is available from project's page on \textit{GitHub} \parencite{smartoo-github}.
I have used the framework to create a simple [instance/demo/prototype?] of the web application for practicing knowledge from Wikipedia articles \parencite{smartoo-web}.

The whole practicing process consists of four steps.
First step is to extract facts from the given article.
Besides the knowledge extraction itself, knowledge representation is an important issue as well.
Extraction and representation of the knowledge is the topic of chapter \ref{chap:knowledge}.

In chapter \ref{chap:exercises}, excercises generation is discussed.
Usually, exercises will be just multiple choice questions, but other exercises types are possible as well.
In this step major concerns are: selection of a fact (or set of facts) from which the exercise will be generated, transformation from the fact (or facts) to the exercise and in case of multiple choice questions selection of good \textit{distractors} (false answers).

Although we could stop here and submit all generated questions to the user, it has been proven to be useful to make two more steps.
In chapter \ref{chap:exercises-grading}, I talk about exercises grading.
We can be interested in various parameters, such as difficulty, relevance to the article or probability that the question is gramatically [?].

Having the exercises graded, we can filter them and only present these with reasonable difficulty, relevance and correctness probability.
But again, we can introduce one more step to make learning more efficient -- adaptive practice.
According to the user performance, we can choose easier or more difficult questions. I talk about some common strategies for this task in chapter \ref{chap:practice}.

In chapter \ref{chap:smartoo}, I describe the Smartoo Framework in detail
and we will see how these four steps are transparently glued and how a component for each step should look like.
I also mention how each of the four components is implemented in the online prototype system.

Smartoo is designed to collect both implicit and explicit feedback from users.
I analyze feedback from about one month testing period in chapter \ref{chap:evaluation}.

Finally, in the chapter \ref{chap:future}, I present planned future development of Smartoo application.


%The thesis text was typeset in \LaTeX{} using the \textit{fithesis2} package created by Stanislav Filipčík \parencite{fithesis}.

%TODO: (?) The text of the thesis is licensed under a Creative Commons Attribution 3.0 Unported License.

% ===========================  CHAPTER ===========================
\chapter{Knowledge extraction}
\label{chap:knowledge}

Knowledge extraction is well-studied aria \parencite{triples-acquisition}.

TODO... rozebrat ruzne pistupy


TODO: zminit omezeni na zachyceni faktu, ne "procedural knowledge" jako je napr. pocitani prikladu a dalsi "higher order cognitive skills"


% ---------------------------  SECTION  ---------------------------
\section{Lexico-syntactic patterns}
\label{sec:lexico-syntactic-patterns}

NOTE: Mozna presunout / rozlozit i do kapitoly o generovani cviceni

NOTE jeden z moznych pristupu, bootstraping lexikalne syntaktickych vzoru

... The approach of bootstrapping lexico-syntactic patterns was used
in \textit{The Mentor} system \cite{mentor}, created by Technical University of Lisbon.

There are 2 steps.
First, the system learns patterns in sentences which describe a relation between a question and an answer.
After this preparatory offline step, these patterns are used for question generation from texts submitted by users (which is the second step).

The first step uses a few question-answer pairs as seeds.
New sentence-question patterns are boostrapped ....

TODO: popsat blize, co znamena ten bootstrapping

... they are using \textit{QuestionBank} a corpus of 4000 parse-annotated questions \cite{question-bank}.

TODO: svuj vlastni priklad

As an example, consider sentence "Botticelli has painted the Birth of Venus".

General form of pattern is: [TODO, je tam nekde odoved, nejaka pevna cast (*), ktera muze byt pouze jedna, libovolne dlouha a na zbytku jsou urcene vetne cleny (VBD, NP, ...)]

Which of the [uvazovanych] patterns are correct is decided by
Google search of phrase [ktera fraze presne?].

The derived pattern is \texttt{<ANSWER> has VBD NP}.



In the online step, each sentence of given text (after parsing) is matched against boostrapped patterns
and may produce question-answer pair.
Then some filters are applied to discard questions of poor quality. Two main filters are:

\begin{enumerate}
  \item matching question-answer category:
    The category of the question and the category of the answer have to be same (e.g. individual or location). Example: "Who was Abraham Lincoln?" -- "16th president of the United States": both \textit{Abraham Lincoln} and \textit{president} has the semantic category \textit{individual}.
    To find that president is individual, WordNet [citovat] is used (BFS).
  \item Discarding Anaphoric References: e.g. "Where is there?"
\end{enumerate}

As the system generates multiple-choice questions,
it also needs to find appropriate distractors.
For this purpose, all named entites are find in the text
(using several techniques -- regular expression, gazetteers [odkaz na vysvetleni jinam do textu] and a machine learning-base recognizer as well)


NOTE: asi docela uspesne, i kdyz mnoho otazek potreba rucne opravit (nepredpokladalo se online nasazeni)

TODO: jasne dat najevo (diagram), ze tato faze neni v zasade nutna (napr. do uvodu)


% ---------------------------  SECTION  ---------------------------
\section{Ontologies}
\label{sec:ontologies}

TODO: asi nasledovane rozdeleni: obecne info o ontologiich (a jak je generovat) v knowledge kapitole; v kaptiole exercises pak generovani otazek z ontologii

O co jde: hierarchie trid, (mezi tridou a podtridou je "is-a" relationship)

TODO: ukazka ontologie OWL pouzite v DBpedii (Thing, Agent, Person, ...)

- generovani otazek s vyuzitim ontologii:
\cite{question-gen-domain-ontologies} -- popisuje ruzne strategie, jak z hotoveho grafu generovat otazky (coz je v nejjednodussim pripade proste vyber jednoho faktu) a k nim distraktory (i distraktory jen na urovni celych vet, zadani bylo vzdy "Choose the correct sentence"; priklady:
- pro RDF trojici A-B-C vytvor distraktor A-B-D, kde D je typu, ktery je podtridou typu C
- pro RDF trojici A-B-C, pokud je C numericka hodnota, vytvor distraktory jako nasobky (a podnasobky) dane hodnoty;

NOTE: jeste na tom clanku je zajimava tabulku udavajici pocet syntakticky bezchybne vygenerovanych otazek pro ruzne clanky (velky rozptyl... od 5 do 85 procent spravnych otazek ... ale je to relativne stary clanek z pocatku jejich vyzkumu, v tom nasledovnem jiz reportuji, ze 90 procent otazek bylo oznaceno jako "dobrych")

\textit{OntoQue} \cite{ontoque}, a system generating questions from a domain ontology.
Various question types: multiple choice questions, true/false, fill-in the blanks.
True/False: chybne vety jsou ze spravne vety vytvoreny nahrazenim subjektu nebo objektu za term, ktery je semanticky blizko (je ze stejne tridy).




% ---------------------------  SECTION  ---------------------------
\section{Knowledge bases}
\label{sec:knowledge-bases}

TODO...
Besides the text itself external knowledge bases can be used.
Examples of popular knowledge bases are DBpedia \parencite{dbpedia} and Freebase [citovat!].
DBpedia was built by extracting structured information from Wikipedia.
Facts are stored in the form of \textit{RDF} (\textit{Resource Description Framework}) graph [citovat],
which is a collection of subject -- predicate -- object triples \parencite[][63]{semantic-web}.

RDF graph is often used for knowledge representation.
This format is suitable for exercise genereation, as there is a tool for convenient querying RDF graph,
\textit{SPARQL}%
\footnote{The name of this query language is a recursive acronym of \textit{SPARQL Protocol and RDF Query Language}.}
language \parencite[][84]{semantic-web}.



% ===========================  CHAPTER ===========================
\chapter{Exercises generation}
\label{chap:exercises}

[Intro, TODO: nejcasteji multiple-choice question, definice, distractory, ukazka]

TODO...

... obecny popis multiple choice questions a souvisejici terminologie (TODO: nejake obecne intro, ze jsou oblibene, maji sve vyhody a nevyhody):

Multiple choice questions consists of a question text (called \textit{stem})
and a few (e.g. four) choices, from which one is the correct answer
and the rest are incoreect alternatives (called \textit{distractors}).



\section{Distractors}
\label{sec:distractors}

It is important to present a multiple-choice question with competitive \textit{distractors}.
As shown by experiments described in \cite{optimizing-multiple-choice}, multiple choice questions with competitive incorrect alternatives not only help to remember the correct answers to the original questions, but they also improve later performance on the previously nontested questions for which these alternatives may be the correct answers. If the alternatives are not competive, a student can recognize the correct answer without retrieval, just by pattern matching. As an example, consider the following multiple choice question:

\begin{exercise}
\caption{Question with noncompetitive alternatives}%\label{table:somename}
  \begin{question}
  Lincoln was assassinated by \sentenceGap , a Confederate sympathizer.
  \begin{choices}
    \choice Emancipation Proclamation
    \choice John Wilkes Booth
    \choice Illinois
    \choice Department of Agriculture
  \end{choices}
  \end{question}
\end{exercise}

Clearly, the student does not need to remember who assasinated Lincoln to answer this question correctly and they are also not forced to retrieve any knowledge about alternatives.
Of course, this was an extreme example to illustrate the point -- you definitely would not come accross such poor distractors in manually created multiple-choice questions.
Now take a look at the following question:

\begin{exercise}
\caption{Question with competitive alternatives}%\label{table:somename}
  \begin{question}
  Lincoln was assassinated by \sentenceGap , a Confederate sympathizer.
  \begin{choices}
    \choice Thomas N. Conrad
    \choice Robert E. Lee
    \choice John Wilkes Booth
    \choice Ward Hill Lamon
  \end{choices}
  \end{question}
\end{exercise}

This questions is much more likely to force student to retrieve knowledge about John Wilkes Booth as well as about other alternatives.

\cite{optimizing-multiple-choice} also showed that competitive distractors are not confused with correct answers in later questions more often than noncompetitive distractors.

The consequences are clear -- when creating a multiple-choice question, we should try to find plausible alternatives which are as competitive as possible.





..........................

TODO: Jeden z moznych postupu (Mitkov, 2006) -- bez potreby vytvaret graf znalosti:
extrakce pojmu z textu (pomoci frekvenci), otazky transformaci vet s pojmy (vzory predem dane), vyber distraktoru (snaha o semantickou blizkost odpovedi ... pomoci WordNetu)




% ===========================  CHAPTER ===========================
\chapter{Exercises grading}
\label{chap:exercises-grading}

NOTE: mozna neni na samostatnou kapitolu (v tom pripade spojit s predchozi, ale je to tak vice konzistentni

% ===========================  CHAPTER ===========================
\chapter{Adaptive practice}
\label{chap:practice}


TODO...


% ---------------------------  SECTION  ---------------------------
\section{Bayesian network}
\label{sec:bayesian-network}

Jeden z moznych pristupu pro adaptabilni procvnicovani (ptani se relevantnich otazek)

\cite{question-gen-adapt-bayes}

- domenove nezavisle

- Baysovska sit k popisu konceptu a jejich nauceni (2 stavy: known and unknown) a zavislosti mezi kocpety a spravnou odpovedi na otazku (pritom se uvazuje i moznot uhadnuti i kdyz koncept neumim (guess) a spatnou odpovedi, i kdyz koncept umim (slip).

- vyber tematu otazky: least known concept

- vyber konkretni otazky: bere se v uvahu primerena obtiznost a pestrost typu otazek


% ===========================  CHAPTER ===========================
\chapter{Smartoo framework}
\label{chap:smartoo}

TODO...

podkapitoly pro jednotlive komponenty

\section{Knowledge building}
\label{sec:smartoo-knowledge}

TODO...

\section{Exercises creating}
\label{sec:smartoo-exercises}

TODO...

\section{Exercises grading}
\label{sec:smartoo-exercises-grading}

TODO...

\section{Adaptive practice}
\label{sec:smartoo-practice}


TODO...

\section{Web interface}
\label{sec:smartoo-web}


TODO...

% ===========================  CHAPTER ===========================
\chapter{Evaluation}
\label{chap:evaluation}

TODO...

performace of each component

\chapter{Future plans}
\label{chap:future}

TODO...

what to improve (... in diploma thesis)





% ===== APPENDIX AND BIBLIOGRAPHY =====
\appendix

% include citations not cited specifically
%\nocite{*}

% print complete bibliography
\printbibliography

\chapter{Data attachment}

TODO: data attachment structure description

\end{document}
